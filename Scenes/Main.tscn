[gd_scene load_steps=15 format=4 uid="uid://cv0kmglile0l7"]

[ext_resource type="PackedScene" uid="uid://x4khlkw6qu05" path="res://Scenes/Player.tscn" id="1"]
[ext_resource type="PackedScene" path="res://UI/MessageHud.tscn" id="2"]
[ext_resource type="TileSet" uid="uid://bbe10d7lm3cy3" path="res://wall tile set.tres" id="3_1p5hy"]
[ext_resource type="PackedScene" path="res://VFX/ReadabilityOverlay.tscn" id="4"]
[ext_resource type="PackedScene" path="res://UI/ExitSignLayer.tscn" id="5"]
[ext_resource type="PackedScene" path="res://VFX/SoundRippleManager.tscn" id="6"]
[ext_resource type="PackedScene" uid="uid://dv3s6lpqlvwwb" path="res://Scenes/Guard.tscn" id="7"]
[ext_resource type="Script" uid="uid://b2x1ys54sgisv" path="res://Scripts/Main.gd" id="8"]
[ext_resource type="Script" uid="uid://dspas587cy1x1" path="res://Scripts/EscalationManager.gd" id="9"]
[ext_resource type="PackedScene" uid="uid://cyruxhht66d6q" path="res://Scenes/Hunter.tscn" id="10"]
[ext_resource type="PackedScene" path="res://UI/HuntedBanner.tscn" id="11"]
[ext_resource type="PackedScene" path="res://UI/InteractPrompt.tscn" id="12"]
[ext_resource type="TileSet" uid="uid://dafxu3tflyhgo" path="res://new_tile_set.tres" id="13_frkhe"]
[ext_resource type="Script" uid="uid://b1pwatu6yrfpb" path="res://Scripts/ProcMapGenerator.gd" id="14"]

[node name="Main" type="Node2D"]
script = ExtResource("8")

[node name="Floor" type="TileMapLayer" parent="."]
tile_set = ExtResource("13_frkhe")

[node name="Walls" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("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")
tile_set = ExtResource("3_1p5hy")

[node name="ProcMapGenerator" type="Node2D" parent="."]
script = ExtResource("14")

[node name="GlobalDarkness" type="CanvasModulate" parent="."]
visible = false
color = Color(0, 0, 0, 1)

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(-82, -58)

[node name="Guard" parent="." instance=ExtResource("7")]
position = Vector2(240, 40)

[node name="Guard2" parent="." instance=ExtResource("7")]
position = Vector2(-140, 140)
patrol_path = NodePath("../PatrolPath2")

[node name="Guard3" parent="." instance=ExtResource("7")]
position = Vector2(520, -120)
patrol_path = NodePath("../PatrolPath3")

[node name="PatrolPath" type="Node2D" parent="."]
position = Vector2(68, 0)

[node name="PointA" type="Node2D" parent="PatrolPath"]
modulate = Color(0, 1, 1, 1)
position = Vector2(200, 80)

[node name="PointB" type="Node2D" parent="PatrolPath"]
position = Vector2(360, 80)

[node name="PointC" type="Node2D" parent="PatrolPath"]
position = Vector2(360, -40)

[node name="PointD" type="Node2D" parent="PatrolPath"]
position = Vector2(200, -40)

[node name="PatrolPath2" type="Node2D" parent="."]
position = Vector2(-180, 120)

[node name="PointA2" type="Node2D" parent="PatrolPath2"]
position = Vector2(-40, 40)

[node name="PointB2" type="Node2D" parent="PatrolPath2"]
position = Vector2(60, 40)

[node name="PointC2" type="Node2D" parent="PatrolPath2"]
position = Vector2(60, -60)

[node name="PointD2" type="Node2D" parent="PatrolPath2"]
position = Vector2(-40, -60)

[node name="PatrolPath3" type="Node2D" parent="."]
position = Vector2(520, -120)

[node name="PointA3" type="Node2D" parent="PatrolPath3"]
position = Vector2(-80, 0)

[node name="PointB3" type="Node2D" parent="PatrolPath3"]
position = Vector2(80, 0)

[node name="PointC3" type="Node2D" parent="PatrolPath3"]
position = Vector2(80, -120)

[node name="PointD3" type="Node2D" parent="PatrolPath3"]
position = Vector2(-80, -120)

[node name="SoundRippleManager" parent="." instance=ExtResource("6")]

[node name="AudioLayers" type="Node" parent="."]

[node name="TensionLayer" type="AudioStreamPlayer" parent="AudioLayers"]
volume_db = -30.0

[node name="HeartbeatLayer" type="AudioStreamPlayer" parent="AudioLayers"]
volume_db = -30.0

[node name="EscalationManager" type="Node2D" parent="."]
position = Vector2(-15, 25)
script = ExtResource("9")
overlay_path = NodePath("../ReadabilityOverlay")
tension_player_path = NodePath("../AudioLayers/TensionLayer")
heartbeat_player_path = NodePath("../AudioLayers/HeartbeatLayer")
message_hud_path = NodePath("../MessageHud")
hunter_scene = ExtResource("10")

[node name="ReadabilityOverlay" parent="." instance=ExtResource("4")]

[node name="ExitSignLayer" parent="." instance=ExtResource("5")]

[node name="HuntedBanner" parent="." instance=ExtResource("11")]

[node name="MessageHud" parent="." instance=ExtResource("2")]

[node name="InteractPrompt" parent="." instance=ExtResource("12")]
