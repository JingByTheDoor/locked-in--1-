[gd_scene load_steps=15 format=4 uid="uid://cv0kmglile0l7"]

[ext_resource type="PackedScene" uid="uid://x4khlkw6qu05" path="res://Scenes/Player.tscn" id="1"]
[ext_resource type="PackedScene" path="res://UI/MessageHud.tscn" id="2"]
[ext_resource type="TileSet" uid="uid://bbe10d7lm3cy3" path="res://wall tile set.tres" id="3_1p5hy"]
[ext_resource type="PackedScene" path="res://VFX/ReadabilityOverlay.tscn" id="4"]
[ext_resource type="PackedScene" path="res://UI/ExitSignLayer.tscn" id="5"]
[ext_resource type="PackedScene" path="res://VFX/SoundRippleManager.tscn" id="6"]
[ext_resource type="Script" uid="uid://b2x1ys54sgisv" path="res://Scripts/Main.gd" id="8"]
[ext_resource type="Script" uid="uid://dspas587cy1x1" path="res://Scripts/EscalationManager.gd" id="9"]
[ext_resource type="PackedScene" uid="uid://cyruxhht66d6q" path="res://Scenes/Hunter.tscn" id="10"]
[ext_resource type="PackedScene" path="res://UI/HuntedBanner.tscn" id="11"]
[ext_resource type="PackedScene" path="res://UI/InteractPrompt.tscn" id="12"]
[ext_resource type="TileSet" uid="uid://dafxu3tflyhgo" path="res://new_tile_set.tres" id="13_frkhe"]
[ext_resource type="Script" uid="uid://b1pwatu6yrfpb" path="res://Scripts/ProcMapGenerator.gd" id="14"]
[ext_resource type="Texture2D" uid="uid://boyyd16hwu0qb" path="res://hat diagonal.png" id="15_h1m7h"]

[node name="Main" type="Node2D"]
script = ExtResource("8")

[node name="HatDiagonal" type="Sprite2D" parent="."]
position = Vector2(3748.9998, 1099)
scale = Vector2(14.177812, 12.536694)
texture = ExtResource("15_h1m7h")

[node name="Floor" type="TileMapLayer" parent="."]
position = Vector2(4693, 4412)
tile_map_data = PackedByteArray("AAAJ/4MAAAAJAAMAAAAJ/4IAAAAFAAEAAAAJ/4EAAAAFAAEAAAAJ/4AAAAACAAIAAAAJ/38AAAACAAEAAAAJ/34AAAAJAAEAAAAJ/30AAAAFAAIAAAAJ/3wAAAACAAEAAAAJ/3sAAAAFAAAAAAAI/4MAAAAIAAMAAAAI/4IAAAABAAIAAAAI/4EAAAABAAIAAAAI/4AAAAAEAAEAAAAI/38AAAAHAAIAAAAI/34AAAAHAAIAAAAI/30AAAAEAAEAAAAI/3wAAAABAAEAAAAI/3sAAAAEAAAAAAAH/4MAAAAIAAMAAAAH/4IAAAABAAEAAAAH/4EAAAAHAAIAAAAH/4AAAAAEAAIAAAAH/38AAAAHAAIAAAAH/34AAAAIAAIAAAAH/30AAAAHAAIAAAAH/3wAAAAIAAEAAAAH/3sAAAAEAAAAAAAG/4MAAAAIAAMAAAAG/4IAAAABAAIAAAAG/4EAAAABAAEAAAAG/4AAAAAHAAEAAAAG/38AAAAIAAIAAAAG/34AAAAHAAIAAAAG/30AAAAEAAIAAAAG/3wAAAAHAAIAAAAG/3sAAAAIAAAAAAAF/4MAAAABAAMAAAAF/4IAAAABAAEAAAAF/4EAAAABAAIAAAAF/4AAAAABAAIAAAAF/38AAAAEAAIAAAAF/34AAAABAAEAAAAF/30AAAAEAAIAAAAF/3wAAAABAAEAAAAF/3sAAAAEAAAAAAAE/4MAAAABAAMAAAAE/4IAAAABAAEAAAAE/4EAAAAHAAEAAAAE/4AAAAAIAAEAAAAE/38AAAABAAEAAAAE/34AAAABAAIAAAAE/30AAAABAAIAAAAE/3wAAAAEAAIAAAAE/3sAAAABAAAAAAAD/4MAAAABAAMAAAAD/4IAAAAEAAIAAAAD/4EAAAAIAAIAAAAD/4AAAAAHAAEAAAAD/38AAAAHAAEAAAAD/34AAAAHAAEAAAAD/30AAAABAAEAAAAD/3wAAAABAAEAAAAD/3sAAAABAAAAAAAC/4MAAAAGAAMAAAAC/4IAAAAAAAEAAAAC/4EAAAAAAAIAAAAC/4AAAAADAAEAAAAC/38AAAAGAAIAAAAC/34AAAAAAAIAAAAC/30AAAADAAIAAAAC/3wAAAADAAIAAAAC/3sAAAAGAAAAAAA=")
tile_set = ExtResource("13_frkhe")

[node name="Walls" type="TileMapLayer" parent="."]
tile_set = ExtResource("3_1p5hy")

[node name="ProcMapGenerator" type="Node2D" parent="."]
script = ExtResource("14")
map_width = 80
map_height = 60
room_attempts = 24
use_floor_terrain = true
enemy_spawn_min_floor_neighbors = 40
total_enemy_count = 40
remove_existing_enemies = false

[node name="GlobalDarkness" type="CanvasModulate" parent="."]
visible = false
color = Color(0, 0, 0, 1)

[node name="Player" parent="." instance=ExtResource("1")]
position = Vector2(-82, -58)

[node name="SoundRippleManager" parent="." instance=ExtResource("6")]

[node name="AudioLayers" type="Node" parent="."]

[node name="TensionLayer" type="AudioStreamPlayer" parent="AudioLayers"]
volume_db = -30.0

[node name="HeartbeatLayer" type="AudioStreamPlayer" parent="AudioLayers"]
volume_db = -30.0

[node name="EscalationManager" type="Node2D" parent="."]
position = Vector2(-15, 25)
script = ExtResource("9")
overlay_path = NodePath("../ReadabilityOverlay")
tension_player_path = NodePath("../AudioLayers/TensionLayer")
heartbeat_player_path = NodePath("../AudioLayers/HeartbeatLayer")
message_hud_path = NodePath("../MessageHud")
hunter_scene = ExtResource("10")

[node name="ReadabilityOverlay" parent="." instance=ExtResource("4")]

[node name="ExitSignLayer" parent="." instance=ExtResource("5")]

[node name="HuntedBanner" parent="." instance=ExtResource("11")]

[node name="MessageHud" parent="." instance=ExtResource("2")]

[node name="InteractPrompt" parent="." instance=ExtResource("12")]
